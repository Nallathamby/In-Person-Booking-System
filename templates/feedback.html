<!DOCTYPE html>
<html>
<head>
    <title>Feedback Management</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Feedback Management</h1>

    <!-- Add Feedback -->
    <form method="POST">
        <label for="customer_id">Customer:</label>
        <select name="customer_id" required>
            {% for customer in customers %}
            <option value="{{ customer.Customer_ID }}">{{ customer.Name }} (ID: {{ customer.Customer_ID }})</option>
            {% endfor %}
        </select>

        <label for="appointment_id">Appointment:</label>
        <select name="appointment_id" required>
            {% for appointment in appointments %}
            <option value="{{ appointment.Appointment_ID }}">Appointment {{ appointment.Appointment_ID }} on {{ appointment.Date }}</option>
            {% endfor %}
        </select>

        <label for="rating">Rating (1-5):</label>
        <input type="number" name="rating" min="1" max="5" required>

        <label for="comments">Comments:</label>
        <textarea name="comments" rows="4" cols="50" placeholder="Write your feedback here..." required></textarea>

        <button type="submit">Submit Feedback</button>
    </form>

    <!-- Display Feedback -->
    <h2>Feedback List</h2>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Customer</th>
            <th>Appointment Date</th>
            <th>Service</th>
            <th>Rating</th>
            <th>Comments</th>
        </tr>
        {% for feedback in feedback_list %}
        <tr>
            <td>{{ feedback.Feedback_ID }}</td>
            <td>{{ feedback.Customer }}</td>
            <td>{{ feedback.Date }}</td>
            <td>{{ feedback.Service_Type }}</td>
            <td>{{ feedback.Rating }}</td>
            <td>{{ feedback.Comments }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>